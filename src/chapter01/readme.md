# 第一章 图形系统和模型

目录

* [计算机图形学的应用](#计算机图形学的应用)

* [图形系统](#图形系统)
## 1.1 计算机图形学的应用
- 信息的展示【可视化技术】
- 设计【工程建筑设计】
- 仿真和动画【VR】
- 用户界面【UI】

## 1.2 图形系统
    一个计算机图形系统首先是一个计算机系统，必然包含一个通用计算机系统的所有部件。图形系统包含6个主要元素：
- 输入设备
- 中央处理单元【CPU】
- 图形处理单元【GPU】
- 存储器
- 帧缓存
- 输出设备

### 1.2.1 像素和帧缓存
    所有的现代图形系统都是基于光栅的。
    
    在输出设备上看到的图像是一个由图形系统产生的图形元素组成的阵列，图形元素也叫像素（pixel）。像素阵列也称为光栅（raster）。
    
    像素保存在一个称为帧缓存（framebuffer）的储存区域中。帧缓存可以看成是图形系统的核心元素（帧缓存又称显存）。
    
    帧缓存中像素的数目叫做分辨率（resolution），它决定了从图像中可以分辨出多少细节。
    
    帧缓存的深度（depth）或者精度（precision）时表示每个像素所用的比特数，它决定了诸如给定系统中可以表示多少种颜色之类的性质。

### 1.2.2 CPU与 GPU
    在一个简单的系统中，可能只有一个处理器，即系统的中央处理单元（Central Processing Unit），常规的处理和图形处理都必须由这个处理器来完成。

    处理器要完成的图形处理功能主要是获取由应用程序生成的图元（比如线、圆、多边形）的属性，并为帧缓存中的像素赋值，以最佳地表示这些图元。

    从几何实体到帧缓存中的像素的颜色和位置的转换称为光栅化（rasterization）或者扫描转换（scanconversion）。

    在早期的图形系统中，帧缓存是标准存储器的一部分，可以被CPU直接访问。至今，几乎所有图形系统都已经使用了专用的图形处理单元（Graphics Processing Unit），它是专门用来完成图形处理功能的。

    CPU可以在系统的主板上或者图形卡中。帧缓存可以被GPU访问，而且它通常与GPU位于同一块电路板上。

### 1.2.3 输出设备
    直到现在，占主导地位的显示器一直是阴极射线管（Cathode Ray Tube）。CRT因电子轰击涂在管子上的磷光物质而发光。电子束的方向由两对偏转板控制。计算机的输出由数模转换器转换成x偏转板和y偏转板上的电压值。当强度足够大的电子束轰击到磷光物质上时CRT的屏幕就会发光。

    如果控制电子束偏转的电压以恒定的速度改变，那么电子束会扫过一条直线轨迹，观察者是可以看到这条直线轨迹的。这样的设备称为随机扫描（random-scan）显示器，画线（calligraphic）显示器或者向量（vector）显示器，因为电子束可以直接从任意位置移到到另一个任意位置。如果关闭电子枪，那么电子束可以移动到新的位置而不会改变可见的显示输出。这就是早期图形系统的基础。

    在磷光物质被电子束激发以后，典型的CRT的发光只能持续很短的时间，一般是几毫秒。为了让人看到稳定的，不闪烁的图像，电子束必须以足够高的速率重复扫描相同的路径，这就是刷新（refresh），刷新的速率叫做刷新率（refresh reta）。

    在光栅系统中，有两种基本方式把帧缓存中的像素显示为屏幕上的点。在逐行扫描显示器中，像素按照刷新率一行一行地显示，或者说一条扫描线一条扫描线的显示。在隔行扫描显示器中，奇数行和偶数行被交替刷新。
## 1.3 物理图像和合成图像
### 1.3.1 对象和观察者
    不管成像是数学还是物理的，在任何成像过程里都必须有两个基本的实体：对象和观察者。

    计算机图形学考虑的是合成的对象，我们通过指定各种几何图元（比如点、线、多边形）的空间位置来构造对象。在大多数图形系统中，利用一组空间中的位置，或者说顶点（vertex），就能定义或者近似描述大多数对象。

    每个成像系统都必须提供一种从对象生成图像的方法。为了生成一幅图像，必须得有某人或某物在观察对象。观察的实施者可以是人、照相机或者数字化设备，是这个观察者（viewer）生成了对象的图像。

### 1.3.2 光和图像
    几何光学（geometric optics）把光源建模为具有固定强度的光能发射器。几何光学认为，光线从光源出发沿直线到达与其相互作用的对象。一个理想的点光源从一个点向所有方向均匀地发射光线，发射出的光线可以是单一频率的，也可以包含多个频率。

### 1.3.3 成像模型
    光线追踪和光子映射，不适合于实时计算。

    辐射度方法，计算量太大。

## 1.4 成像系统
### 1.4.1 针孔照相机
    略
### 1.4.2 人类视觉系统
    略

## 1.5 虚拟照相机模型
    虚拟照相机模型
- 对象的确定不依赖于观察者。
- 利用简单的几何方法计算图像。

    图像的大小是受限的，视角是用来描述这个限制的。在虚拟照相机中，可以通过在投影平面内设置一个裁剪矩形或者叫裁剪窗口来把这个限制移到透镜的前面。给定投影中心的位置，投影平面的位置和方向，还有裁剪窗口的大小，就能够确定哪些对象会在图像中出现。

## 1.6 应用程序编程接口
    应用程序和图形系统之间的接口可以通过图形库中的一组函数来指定，这个接口的规范称为应用程序编程接口（Application Programming Interface API）。

### 1.6.1 笔式绘图仪模型【二维系统】
    略

### 1.6.2 三维API
    如果遵从虚拟照相机模型，API需要有相应的函数来确定下列4个要素：
- 对象
- 观察者【视点或者虚拟照相机】
- 光源
- 材质属性
  
  对象通常由一组顶点定义。

  确定照相机的四个要素
- 位置 照相机的位置通常由透镜的中心，即投影中心给出。
- 方向 在确定了照相机的位置后，就可以以投影中心为原点设置一个照相机坐标系，接下来可以分别绕这个坐标系的三个坐标轴旋转照相机。
- 焦距 透镜的焦距决定了在胶片平面上所成像的尺寸。
- 胶片平面 照相机的后部有一定的高度和宽度。
  
  光源可由其位置、强度、颜色和方向性来定义。

### 1.6.3 使用WebGL API绘制的一系列图像
    略

### 1.6.4 建模-绘制模式
    从某种意义上说，CPU是建模器，GPU是绘制器。

## 1.7 图形绘制系统的体系结构

